<!DOCTYPE html>
<html class = "animated fadeIn">
<head>
	<title>Tour | Places</title>
	<link rel="stylesheet" type="text/css" href="css/select.css">
	<link rel="stylesheet" type="text/css" href="css/animate.css">
	<script
  			src="https://code.jquery.com/jquery-3.3.1.js"
			integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  			crossorigin="anonymous">
  		</script>
	<script type="text/javascript">
		$(function(){
			var i=2;
			$('#add').click(function(){
				var det= ($('input').length)-6;
				console.log(det);
				$('#place_1').clone().attr('id', 'place_' + i).insertAfter('#place_1');
				i++;
				
				for(var j=1;j<=det;j++){
						var place = document.getElementById('place_'+j);
						var autocomplete = new google.maps.places.Autocomplete(place);
					}
			})
		})
	</script>
</head>
<body>	
	<div class = "container">
		<nav>
			<div class = "logo"><img src="images/lg.png"></div>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="about.html">About Website</a></li>
				<li><a href="gallery.html">Gallery</a></li>
				<li><a href="contact.html">Contact</a></li>
			</ul>
		</nav>
		<section class = "background">
		<div class = "details" id="det">
			<a href="plan.html"><input type="button" name="" id ="replanButton" value= "Replan"></a>
			<input type="button" name="" id ="bookingButton" value= "Bookings" onclick="openPopup()">
			<header>
			
			<input type = "text" id = "place_1" placeholder = " select a place" value="">
			</header>
			<center><input type="button" id="add" value="Add Places"></center>
			<!-- <input type="text" id = place1 placeholder="palce 1" value="hosur">
			<input type="text" id = place2 placeholder="palce 2" value="madurai">
			<input type="text" id = place3 placeholder="palce 3" value="trichy">
			<input type = "text" id = "end" placeholder = " type here...." value="chennai"> -->
			<a href="map.html"><input type="button" id="showbtn" value="Show in map" onclick="run()"></a>

			<script>
				function activatePlacesSearch(){
					var input1 = document.getElementById('place_1');
					var autocomplete = new google.maps.places.Autocomplete(input1);
					
					/*var input1 = document.getElementById('place1');
					var autocomplete = new google.maps.places.Autocomplete(input1);
					var input2 = document.getElementById('place2');
					var autocomplete = new google.maps.places.Autocomplete(input2);
					var input3 = document.getElementById('place3');
					var autocomplete = new google.maps.places.Autocomplete(input3);
					var end = document.getElementById('end');
					var autocomplete = new google.maps.places.Autocomplete(end);*/
				}
				function run(){
					var trans = (document.getElementsByTagName('input').length)-7;
					var a = [];
					for(var z=1;z<=trans;z++){
						var area = document.getElementById('place_'+z).value;	
						a[z] = area;
						console.log(a[z]);
					}
					localStorage.setItem("place", JSON.stringify(a));
					localStorage.len = a.length;
					console.log(a);
					/*var start = document.getElementById('start').value;
					var p1 = document.getElementById('place1').value;
					var p2 = document.getElementById('place2').value;
					var p3 = document.getElementById('place3').value;
					var end = document.getElementById('end').value;
					localStorage.start = start;
					localStorage.place1 = p1;
					localStorage.place2 = p2;
					localStorage.place3 = p3;
					localStorage.end = end;*/
				}
			</script>
			<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcMJESCDRMdbDsKR161tiQfXIu_R4y-pM&libraries=places&callback=activatePlacesSearch"></script>
		</div> 	
	</div>
	<div class = "popupBg animated fadeIn" id="popbg">
		<div class = "popupMain animated fadeInDownBig">
			<div class ="popupClose animated fadeIn" onclick="closePopup()">
				<p>
					x
				</p>
			</div>
			<h4>Select your mode of transport</h4>
			<div class ="buttons">
				<a href="https://www.redbus.in/" target="blank"><input type="button" name="" value="Bus"></a><br>
				<a href="https://www.irctc.co.in/eticketing/loginHome.jsf" target="blank"><input type="button" name="" value="Train"></a><br>
				<a href="https://www.jetairways.com/en/IN/Home.aspx" target="blank"><input type="button" name="" value="Flight"></a>
			</div>			
		</div>
	</div>
	<script type="text/javascript">
		var popupBg = document.getElementById("popbg");
		function openPopup(){
			console.log("hello");
			popupBg.style.display = "block"
		}
		function closePopup(){
			popupBg.style.display = "none";
		}
	</script>
</body>
</html>