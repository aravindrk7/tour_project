<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script type="text/javascript">
		function news()
		{

			localStorage.location = document.getElementById('search').value;
			console.log(localStorage.location);
			axios.get('http://dataservice.accuweather.com/locations/v1/cities/autocomplete',{
			params:{
				q:localStorage.location,
				apikey:'uy8A8qUEEAObVWISrQjd5sh3CFChaXvs'
			}
		})
		.then(function(response){
				localStorage.id = response.data[0].Key;
				again();
		})
		.catch(function(error){
			console.log('got an error'+error);
		});

}
function again(){
	axios.get('http://dataservice.accuweather.com/currentconditions/v1/'+localStorage.id,{
			params:{
				apikey:'uy8A8qUEEAObVWISrQjd5sh3CFChaXvs'
			}
		})
		.then(function(response){
				console.log("Temperature  "+response.data[0].Temperature.Metric.Value);
				openagain();
		})
		.catch(function(error){
			console.log('got an error'+error);
		});	
}
function openagain(){
	if(localStorage.location == "kattankolathur"){
		localStorage.location = "madurai";
	}
	axios.get('http://api.openweathermap.org/data/2.5/weather',{
			params:{
				q:localStorage.location,
				appid:'729e34bbcb13def052df87e28637b423'
			}
		})
		.then(function(response){
				console.log("Humidity  "+response.data.main.humidity);
				console.log("Pressure  "+response.data.main.pressure);
				console.log("max-temp  "+response.data.main.temp_max);
				console.log("min-temp  "+response.data.main.temp_min);
		})
		.catch(function(error){
			console.log('got an error'+error);
		});	
}

	</script>	
</head>
<body>
	<input type="text" id="search" value="madurai">
	<input type="button" value="Submit" onclick="news()">	
</body>
</html>